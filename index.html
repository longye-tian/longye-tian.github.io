<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Longye Tian | Áî∞ÂûÑ‰∏ö - Computational Economics @ ANU</title>
    
    <!-- Google Fonts for Chinese text -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- MathJax for LaTeX rendering - Only load when needed -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- External CSS Files -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/pages/index.css">
</head>
<body>
    <!-- Command Palette -->
    <div class="command-palette" id="commandPalette">
        <input type="text" class="command-input" placeholder="Type a command or search..." id="commandInput">
        <div class="command-results" id="commandResults">
            <div class="command-item" data-action="research">
                <span class="command-icon">üìÑ</span>
                <span>Go to Research</span>
            </div>
            <div class="command-item" data-action="study-notes">
                <span class="command-icon">üìù</span>
                <span>Go to Study Notes</span>
            </div>
            <div class="command-item" data-action="contact">
                <span class="command-icon">‚úâÔ∏è</span>
                <span>Contact Information</span>
            </div>
            <div class="command-item" data-action="github">
                <span class="command-icon">üíª</span>
                <span>View GitHub</span>
            </div>
            <div class="command-item" data-action="cv">
                <span class="command-icon">üìã</span>
                <span>Download CV</span>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <div class="header-content">
                <h1>
                    <span class="english-name">Longye Tian</span>
                    <span class="chinese-name" style="font-family: 'Noto Sans SC', 'Source Han Sans SC', 'Microsoft YaHei', 'PingFang SC', 'Hiragino Sans GB', 'Heiti SC', 'SimHei', -apple-system, BlinkMacSystemFont, sans-serif; font-weight: 500; letter-spacing: 0.15em;">Áî∞ÂûÑ‰∏ö</span>
                </h1>
                <div class="typing-container">
                    <span class="typing-text">PhD Student of Economics @ Australian National University</span>
                </div>
                <p style="color: var(--text-secondary); margin-top: 20px;">
                    Supervisor: <a href="https://johnstachurski.net/" target="_blank" style="color: var(--accent-yellow); text-decoration: none; font-weight: 600; transition: all 0.3s ease;" onmouseover="this.style.color='#f0d000'; this.style.textDecoration='underline';" onmouseout="this.style.color='var(--accent-yellow)'; this.style.textDecoration='none';">Prof John Stachurski</a> | Research: Markov.dynamics + Dynamic.Programming + Reinforcement.Learning
                </p>
            </div>
        </header>
        
        <nav>
            <div class="nav-links">
                <a href="pages/research.html">Research</a>
                <a href="pages/study-notes.html">Study Notes</a>
                <a href="pages/coding.html">Code</a>
                <a href="pages/contact.html">Contact</a>
            </div>
            <div class="nav-shortcut">
                Press <kbd>Ctrl</kbd>+<kbd>K</kbd> to open command palette
            </div>
        </nav>
        
        <main class="main-content">
            <section id="about">
                <p>
                    Welcome to my digital workspace. I'm a PhD student at the Australian National University, 
                    where I explore the intersection of <span style="color: var(--accent-yellow); font-family: var(--font-mono);">computational methods</span> 
                    and <span style="color: var(--accent-yellow); font-family: var(--font-mono);">economic theory</span>. 
                    My research focuses on developing algorithms that solve complex dynamic optimization problems 
                    in economics.
                </p>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin: 40px 0;">
                    <div class="hover-card" style="background: #2d2d2d; border: 1px solid #3e3e3e; border-radius: 8px; padding: 25px; transition: all 0.3s ease; cursor: pointer;">
                        <h3 style="color: #dcdcaa; margin-bottom: 15px; display: block !important;">Research Interests</h3>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 10px;">‚Üí Markov Decision Processes</li>
                            <li style="margin-bottom: 10px;">‚Üí Dynamic Programming</li>
                            <li style="margin-bottom: 10px;">‚Üí Reinforcement Learning in Economics</li>
                        </ul>
                    </div>
                    
                    <div class="hover-card" style="background: #2d2d2d; border: 1px solid #3e3e3e; border-radius: 8px; padding: 25px; transition: all 0.3s ease; cursor: pointer;">
                        <h3 style="color: #dcdcaa; margin-bottom: 15px; display: block !important;">Current Projects</h3>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 10px;">‚Üí Study Markov Dynamics</li>
                            <li style="margin-bottom: 10px;">‚Üí Du's Theorem and Contractions</li>
                            <li>‚Üí Quasi-hyperbolic Discounting</li>
                        </ul>
                    </div>
                </div>
                
            </section>
            
            <!-- Background Section -->
            <section id="background" style="margin-top: 60px;">
                <h2 style="color: #4ec9b0; font-family: monospace; margin-bottom: 30px;">
                    <span style="color: #6a9955;">//</span> Background & Journey
                </h2>
                
                <!-- Education Timeline -->
                <div style="margin-bottom: 50px;">
                    <h3 style="color: #dcdcaa; font-family: monospace; font-size: 1.2em; margin-bottom: 25px;">education --timeline</h3>
                    
                    <div class="timeline" style="position: relative; padding-left: 40px;">
                        <div style="position: absolute; left: 10px; top: 0; bottom: 0; width: 2px; background: #3e3e3e;"></div>
                        
                        <div class="timeline-item" style="position: relative; margin-bottom: 40px; opacity: 0; transform: translateX(-20px); animation: slideIn 0.6s ease forwards; animation-delay: 0.1s;">
                            <div style="position: absolute; left: -35px; top: 5px; width: 12px; height: 12px; background: #569cd6; border-radius: 50%; border: 3px solid #1e1e1e; z-index: 1;"></div>
                            <div style="background: #2d2d2d; border: 1px solid #3e3e3e; border-radius: 8px; padding: 25px; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 10px 30px rgba(0, 0, 0, 0.3)'; this.style.borderColor='#569cd6';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.borderColor='#3e3e3e';">
                                <div style="color: #6a9955; font-size: 0.9em; margin-bottom: 10px;">2025 - Present</div>
                                <div style="color: #dcdcaa; font-size: 1.2em; margin-bottom: 10px;">PhD in Economics</div>
                                <div style="color: #c586c0; font-size: 0.95em; margin-bottom: 15px;">Australian National University, Canberra</div>
                                <div style="color: #d4d4d4; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.8;">
                                    Pursuing doctoral research under the supervision of Prof. John Stachurski at the intersection of Markov dynamics and economic theory. 
                                </div>
                            </div>
                        </div>
                        
                        <div class="timeline-item" style="position: relative; margin-bottom: 40px; opacity: 0; transform: translateX(-20px); animation: slideIn 0.6s ease forwards; animation-delay: 0.2s;">
                            <div style="position: absolute; left: -35px; top: 5px; width: 12px; height: 12px; background: #569cd6; border-radius: 50%; border: 3px solid #1e1e1e; z-index: 1;"></div>
                            <div style="background: #2d2d2d; border: 1px solid #3e3e3e; border-radius: 8px; padding: 25px; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 10px 30px rgba(0, 0, 0, 0.3)'; this.style.borderColor='#569cd6';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.borderColor='#3e3e3e';">
                                <div style="color: #6a9955; font-size: 0.9em; margin-bottom: 10px;">2023 - 2024</div>
                                <div style="color: #dcdcaa; font-size: 1.2em; margin-bottom: 10px;">Master of Economic Analysis</div>
                                <div style="color: #c586c0; font-size: 0.95em; margin-bottom: 15px;">The University of Sydney, Sydney</div>
                                <div style="color: #d4d4d4; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.8;">
                                    Completed advanced coursework in econometrics and macroeconomic theory. Master's thesis: <em style="color: #9cdcfe;">"How Important are Sectoral Shocks in Australia?"</em> under the supervision of <a href="https://sites.google.com/site/jamescmorley/" target="_blank" style="color: var(--accent-yellow); text-decoration: none; transition: all 0.3s ease;" onmouseover="this.style.textDecoration='underline';" onmouseout="this.style.textDecoration='none';">Prof. James Morley</a> and <a href="https://sites.google.com/site/marianokulish/" target="_blank" style="color: var(--accent-yellow); text-decoration: none; transition: all 0.3s ease;" onmouseover="this.style.textDecoration='underline';" onmouseout="this.style.textDecoration='none';">Prof. Mariano Kulish</a>.
                                </div>
                            </div>
                        </div>
                        
                        <div class="timeline-item" style="position: relative; margin-bottom: 40px; opacity: 0; transform: translateX(-20px); animation: slideIn 0.6s ease forwards; animation-delay: 0.3s;">
                            <div style="position: absolute; left: -35px; top: 5px; width: 12px; height: 12px; background: #569cd6; border-radius: 50%; border: 3px solid #1e1e1e; z-index: 1;"></div>
                            <div style="background: #2d2d2d; border: 1px solid #3e3e3e; border-radius: 8px; padding: 25px; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-3px)'; this.style.boxShadow='0 10px 30px rgba(0, 0, 0, 0.3)'; this.style.borderColor='#569cd6';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'; this.style.borderColor='#3e3e3e';">
                                <div style="color: #6a9955; font-size: 0.9em; margin-bottom: 10px;">2018 - 2023</div>
                                <div style="color: #dcdcaa; font-size: 1.2em; margin-bottom: 10px;">Bachelor of Economics</div>
                                <div style="color: #c586c0; font-size: 0.95em; margin-bottom: 15px;">The University of Sydney, Sydney</div>
                                <div style="color: #d4d4d4; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; line-height: 1.8;">
                                    <ul style="list-style: none; padding: 0; margin: 0;">
                                        <li style="margin-bottom: 8px;">‚Ä¢ Dean's List of Excellence in Academic Performance (2018, 2019)</li>
                                        <li style="margin-bottom: 8px;">‚Ä¢ University of Sydney Academic Merit Prize (2019, 2022)</li>
                                        <li style="margin-bottom: 8px;">‚Ä¢ Frank Albert Prize for Third Year Economics (2019)</li>
                                        <li style="margin-bottom: 8px;">‚Ä¢ Donald George Crew Memorial Prize for Economics III (2019)</li>
                                        <li>‚Ä¢ Geoffrey Dale Prize for Third Year in the Faculty of Economics and Business (2019)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                
                <!-- Add slideIn animation to the page -->
                <style>
                    @keyframes slideIn {
                        from {
                            opacity: 0;
                            transform: translateX(-20px);
                        }
                        to {
                            opacity: 1;
                            transform: translateX(0);
                        }
                    }
                    
                    @keyframes spin {
                        from { transform: rotate(0deg); }
                        to { transform: rotate(360deg); }
                    }
                </style>
            </section>
            
            <section id="research-preview" style="margin-top: 60px; display: block !important;">
                <h2 style="color: #4ec9b0; font-family: monospace; margin-bottom: 30px; display: block !important;">
                    <span style="color: #6a9955;">$</span> git log --oneline --research
                    <span id="refresh-indicator" style="display: none; font-size: 0.6em; color: #6a9955; margin-left: 10px;">
                        <span style="animation: spin 1s linear infinite; display: inline-block;">‚Üª</span> updating...
                    </span>
                    <button onclick="loadGitHubCommits(true)" style="font-size: 0.6em; background: none; border: 1px solid #6a9955; color: #6a9955; padding: 2px 8px; margin-left: 10px; cursor: pointer; border-radius: 3px; font-family: monospace;">‚Üª Refresh</button>
                    <a href="https://github.com/longye-tian" id="github-link" style="float: right; font-size: 0.6em; color: #808080; text-decoration: none; transition: all 0.2s ease;">
                        View on GitHub ‚Üí
                    </a>
                </h2>
                
                <div style="background: #2d2d2d; border-radius: 8px; padding: 30px; margin: 40px 0;">
                    <div id="loading-indicator" style="color: #6a9955; font-family: monospace; margin-bottom: 20px; font-size: 0.9em;">
                        <span style="display: inline-block; animation: pulse 1.5s infinite;">‚óè</span> Loading recent commits from GitHub...
                    </div>
                    <div id="github-commits" style="min-height: 200px;">
                        <!-- Commits will be loaded here -->
                    </div>
                </div>
            </section>
            
        </main>
        
        <footer>
            <div class="terminal-footer">
                <span class="prompt">longye@anu:~$</span>
                <span class="command">./collaborate --field computational-economics</span>
                <span class="cursor">_</span>
            </div>
        </footer>
    </div>
    
    <!-- External JavaScript Files -->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/navigation.js"></script>
    <script src="assets/js/pages/index.js"></script>
    
    <!-- Inline hover effects since CSS classes aren't working -->
    <script>
        // Add hover effects to cards
        document.querySelectorAll('.hover-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
                this.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.3)';
                this.style.borderColor = '#569cd6';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
                this.style.borderColor = '#3e3e3e';
            });
        });
        
        // Add hover effects to git commits
        document.querySelectorAll('#research-preview div[style*="padding: 15px"]').forEach(commit => {
            commit.style.transition = 'all 0.2s ease';
            commit.style.cursor = 'pointer';
            
            commit.addEventListener('mouseenter', function() {
                this.style.backgroundColor = '#3e3e3e';
                this.style.paddingLeft = '20px';
            });
            
            commit.addEventListener('mouseleave', function() {
                this.style.backgroundColor = 'transparent';
                this.style.paddingLeft = '0';
            });
        });
        
        
        // Fetch real GitHub commits
        async function loadGitHubCommits(isRefresh = false) {
            const username = 'longye-tian';
            const commitsContainer = document.getElementById('github-commits');
            const loadingIndicator = document.getElementById('loading-indicator');
            const refreshIndicator = document.getElementById('refresh-indicator');
            
            // Show refresh indicator if this is a refresh
            if (isRefresh && refreshIndicator) {
                refreshIndicator.style.display = 'inline';
            }
            
            try {
                // Add timestamp to prevent caching
                const timestamp = new Date().getTime();
                const response = await fetch(`https://api.github.com/users/${username}/events/public?t=${timestamp}`, {
                    cache: 'no-cache',
                    headers: {
                        'Cache-Control': 'no-cache',
                        'Pragma': 'no-cache'
                    }
                });
                const events = await response.json();
                
                // Hide loading indicator
                if (loadingIndicator) {
                    loadingIndicator.style.display = 'none';
                }
                
                // Filter for push events and extract commits
                const pushEvents = events.filter(event => event.type === 'PushEvent');
                const commits = [];
                
                console.log(`Found ${pushEvents.length} push events`);
                
                pushEvents.slice(0, 5).forEach(event => {
                    event.payload.commits.forEach(commit => {
                        commits.push({
                            sha: commit.sha.substring(0, 7),
                            fullSha: commit.sha,
                            message: commit.message.split('\n')[0], // First line only
                            repo: event.repo.name,
                            date: new Date(event.created_at),
                            url: `https://github.com/${event.repo.name}/commit/${commit.sha}`
                        });
                    });
                });
                
                console.log(`Extracted ${commits.length} commits, most recent:`, 
                    commits[0] ? `${commits[0].message} (${commits[0].date.toLocaleString()})` : 'none');
                
                // Display commits
                if (commits.length > 0) {
                    commitsContainer.innerHTML = commits.slice(0, 4).map((commit, index) => {
                        const timeAgo = getTimeAgo(commit.date);
                        const isLast = index === Math.min(commits.length - 1, 3);
                        return `
                            <div class="github-commit" style="padding: 15px 0; ${!isLast ? 'border-bottom: 1px solid #3e3e3e;' : ''} font-family: monospace; font-size: 0.95em; transition: all 0.2s ease; cursor: pointer;" onclick="window.open('${commit.url}', '_blank')">
                                <span style="color: #dcdcaa; font-size: 0.9em; margin-right: 15px;">${commit.sha}</span>
                                <span style="color: #d4d4d4;">${commit.message}</span>
                                <div style="font-size: 0.8em; color: #808080; margin-top: 5px;">
                                    <a href="https://github.com/${commit.repo}" style="color: #569cd6; text-decoration: none;" onclick="event.stopPropagation(); window.open('https://github.com/${commit.repo}', '_blank'); return false;">${commit.repo}</a> ¬∑ ${timeAgo}
                                </div>
                            </div>
                        `;
                    }).join('');
                    
                    // Add hover effects to commits
                    setTimeout(() => {
                        document.querySelectorAll('.github-commit').forEach(commit => {
                            commit.addEventListener('mouseenter', function() {
                                this.style.backgroundColor = '#3e3e3e';
                                this.style.paddingLeft = '20px';
                                this.style.transform = 'translateX(5px)';
                            });
                            
                            commit.addEventListener('mouseleave', function() {
                                this.style.backgroundColor = 'transparent';
                                this.style.paddingLeft = '0';
                                this.style.transform = 'translateX(0)';
                            });
                        });
                    }, 100);
                } else {
                    commitsContainer.innerHTML = '<p style="color: #808080;">No recent public commits found. Make sure your repositories are public!</p>';
                }
                
                // Hide refresh indicator
                if (refreshIndicator) {
                    refreshIndicator.style.display = 'none';
                }
            } catch (error) {
                console.error('Error fetching commits:', error);
                if (loadingIndicator) {
                    loadingIndicator.style.display = 'none';
                }
                if (refreshIndicator) {
                    refreshIndicator.style.display = 'none';
                }
                commitsContainer.innerHTML = '<p style="color: #808080;">Unable to load commits. The page will retry in 2 minutes.</p>';
            }
        }
        
        function getTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            const intervals = {
                year: 31536000,
                month: 2592000,
                week: 604800,
                day: 86400,
                hour: 3600,
                minute: 60
            };
            
            for (const [unit, secondsInUnit] of Object.entries(intervals)) {
                const interval = Math.floor(seconds / secondsInUnit);
                if (interval >= 1) {
                    return `${interval} ${unit}${interval === 1 ? '' : 's'} ago`;
                }
            }
            return 'just now';
        }
        
        // Load commits when page loads
        console.log('Initial load of GitHub commits at', new Date().toLocaleTimeString());
        loadGitHubCommits();
        
        // Refresh commits every 30 seconds for testing (change back to 2 minutes later)
        setInterval(() => {
            console.log('Auto-refreshing GitHub commits at', new Date().toLocaleTimeString());
            loadGitHubCommits(true);
        }, 30 * 1000); // 30 seconds for testing
        
        // Add hover effect to GitHub link
        const githubLink = document.getElementById('github-link');
        if (githubLink) {
            githubLink.addEventListener('mouseenter', function() {
                this.style.color = '#4ec9b0';
                this.style.transform = 'translateX(-5px)';
            });
            
            githubLink.addEventListener('mouseleave', function() {
                this.style.color = '#808080';
                this.style.transform = 'translateX(0)';
            });
        }
    </script>
</body>
</html>