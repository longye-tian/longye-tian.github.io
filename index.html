<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Longye Tian | Áî∞ÂûÑ‰∏ö - Computational Economics @ ANU</title>
    
    <!-- MathJax for LaTeX rendering - Only load when needed -->
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <!-- External CSS Files -->
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/pages/index.css">
</head>
<body>
    <!-- Command Palette -->
    <div class="command-palette" id="commandPalette">
        <input type="text" class="command-input" placeholder="Type a command or search..." id="commandInput">
        <div class="command-results" id="commandResults">
            <div class="command-item" data-action="research">
                <span class="command-icon">üìÑ</span>
                <span>Go to Research</span>
            </div>
            <div class="command-item" data-action="study-notes">
                <span class="command-icon">üìù</span>
                <span>Go to Study Notes</span>
            </div>
            <div class="command-item" data-action="contact">
                <span class="command-icon">‚úâÔ∏è</span>
                <span>Contact Information</span>
            </div>
            <div class="command-item" data-action="github">
                <span class="command-icon">üíª</span>
                <span>View GitHub</span>
            </div>
            <div class="command-item" data-action="cv">
                <span class="command-icon">üìã</span>
                <span>Download CV</span>
            </div>
        </div>
    </div>
    
    <div class="container">
        <header>
            <div class="header-content">
                <h1>
                    <span class="english-name">Longye Tian</span>
                    <span class="chinese-name">Áî∞ÂûÑ‰∏ö</span>
                </h1>
                <div class="typing-container">
                    <span class="typing-text">PhD Student of Economics @ Australian National University</span>
                </div>
                <p style="color: var(--text-secondary); margin-top: 20px;">
                    Supervisor: <a href="https://johnstachurski.net/" target="_blank" style="color: var(--accent-yellow); text-decoration: none; font-weight: 600; transition: all 0.3s ease;" onmouseover="this.style.color='#f0d000'; this.style.textDecoration='underline';" onmouseout="this.style.color='var(--accent-yellow)'; this.style.textDecoration='none';">Professor John Stachurski</a> | Research: Markov.dynamics + Dynamic.Programming + Reinforcement.Learning
                </p>
            </div>
        </header>
        
        <nav>
            <div class="nav-links">
                <a href="#about" class="current">About</a>
                <a href="pages/research.html">Research</a>
                <a href="pages/study-notes.html">Study Notes</a>
                <a href="pages/background.html">Background</a>
                <a href="pages/coding.html">Code</a>
                <a href="pages/contact.html">Contact</a>
            </div>
            <div class="nav-shortcut">
                Press <kbd>Ctrl</kbd>+<kbd>K</kbd> to open command palette
            </div>
        </nav>
        
        <main class="main-content">
            <section id="about">
                <p>
                    Welcome to my digital workspace. I'm a PhD student at the Australian National University, 
                    where I explore the intersection of <span style="color: var(--accent-yellow); font-family: var(--font-mono);">computational methods</span> 
                    and <span style="color: var(--accent-yellow); font-family: var(--font-mono);">economic theory</span>. 
                    My research focuses on developing algorithms that solve complex dynamic optimization problems 
                    in economics.
                </p>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin: 40px 0;">
                    <div class="hover-card" style="background: #2d2d2d; border: 1px solid #3e3e3e; border-radius: 8px; padding: 25px; transition: all 0.3s ease; cursor: pointer;">
                        <h3 style="color: #dcdcaa; margin-bottom: 15px; display: block !important;">Research Interests</h3>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 10px;">‚Üí Markov Decision Processes</li>
                            <li style="margin-bottom: 10px;">‚Üí Dynamic Programming</li>
                            <li style="margin-bottom: 10px;">‚Üí Reinforcement Learning in Economics</li>
                        </ul>
                    </div>
                    
                    <div class="hover-card" style="background: #2d2d2d; border: 1px solid #3e3e3e; border-radius: 8px; padding: 25px; transition: all 0.3s ease; cursor: pointer;">
                        <h3 style="color: #dcdcaa; margin-bottom: 15px; display: block !important;">Current Projects</h3>
                        <ul style="list-style: none; padding: 0; margin: 0;">
                            <li style="margin-bottom: 10px;">‚Üí Study Markov Dynamics</li>
                            <li style="margin-bottom: 10px;">‚Üí Du's Theorem and Contractions</li>
                            <li>‚Üí Quasi-hyperbolic Discounting</li>
                        </ul>
                    </div>
                </div>
                
            </section>
            
            <section id="research-preview" style="margin-top: 60px; display: block !important;">
                <h2 style="color: #4ec9b0; font-family: monospace; margin-bottom: 30px; display: block !important;">
                    <span style="color: #6a9955;">$</span> git log --oneline --research
                    <a href="https://github.com/longye-tian" id="github-link" style="float: right; font-size: 0.6em; color: #808080; text-decoration: none; transition: all 0.2s ease;">
                        View on GitHub ‚Üí
                    </a>
                </h2>
                
                <div style="background: #2d2d2d; border-radius: 8px; padding: 30px; margin: 40px 0;">
                    <div style="color: #6a9955; font-family: monospace; margin-bottom: 20px; font-size: 0.9em;">
                        Loading recent commits from GitHub...
                    </div>
                    <div id="github-commits" style="min-height: 200px;">
                        <!-- Commits will be loaded here -->
                    </div>
                </div>
            </section>
            
            <section id="code-preview" style="margin-top: 60px; display: block !important;">
                <h2 style="color: #4ec9b0; font-family: monospace; margin-bottom: 30px; display: block !important;">
                    <span style="color: #6a9955;">></span> Recent Code Sample
                </h2>
                
                <div style="background: #2d2d2d; border: 1px solid #3e3e3e; border-radius: 8px; padding: 20px; overflow-x: auto; position: relative; transition: all 0.3s ease; cursor: pointer;">
                    <span style="position: absolute; top: 10px; right: 15px; color: #808080; font-size: 0.8em; font-family: monospace;">Python</span>
                    <pre style="margin: 0; color: #d4d4d4; font-family: monospace;"><code><span style="color: #569cd6;">def</span> <span style="color: #dcdcaa;">value_iteration</span>(mdp, tolerance=<span style="color: #4ec9b0;">1e-6</span>):
    <span style="color: #6a9955;">"""
    Solve MDP using value iteration algorithm.
    
    Args:
        mdp: MarkovDecisionProcess object
        tolerance: Convergence criterion
    """</span>
    V = np.zeros(mdp.num_states)
    
    <span style="color: #569cd6;">while</span> <span style="color: #569cd6;">True</span>:
        V_new = bellman_operator(mdp, V)
        <span style="color: #569cd6;">if</span> np.max(np.abs(V - V_new)) < tolerance:
            <span style="color: #569cd6;">break</span>
        V = V_new
    
    <span style="color: #569cd6;">return</span> V, derive_policy(mdp, V)</code></pre>
                </div>
            </section>
        </main>
        
        <footer>
            <div class="terminal-footer">
                <span class="prompt">longye@anu:~$</span>
                <span class="command">./collaborate --field computational-economics</span>
                <span class="cursor">_</span>
            </div>
        </footer>
    </div>
    
    <!-- External JavaScript Files -->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/navigation.js"></script>
    <script src="assets/js/pages/index.js"></script>
    
    <!-- Inline hover effects since CSS classes aren't working -->
    <script>
        // Add hover effects to cards
        document.querySelectorAll('.hover-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
                this.style.boxShadow = '0 10px 30px rgba(0, 0, 0, 0.3)';
                this.style.borderColor = '#569cd6';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
                this.style.borderColor = '#3e3e3e';
            });
        });
        
        // Add hover effects to git commits
        document.querySelectorAll('#research-preview div[style*="padding: 15px"]').forEach(commit => {
            commit.style.transition = 'all 0.2s ease';
            commit.style.cursor = 'pointer';
            
            commit.addEventListener('mouseenter', function() {
                this.style.backgroundColor = '#3e3e3e';
                this.style.paddingLeft = '20px';
            });
            
            commit.addEventListener('mouseleave', function() {
                this.style.backgroundColor = 'transparent';
                this.style.paddingLeft = '0';
            });
        });
        
        // Add hover effect to code block
        const codeBlock = document.querySelector('#code-preview > div');
        if (codeBlock) {
            codeBlock.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px)';
                this.style.boxShadow = '0 5px 20px rgba(0, 0, 0, 0.3)';
            });
            
            codeBlock.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
            });
        }
        
        // Fetch real GitHub commits
        async function loadGitHubCommits() {
            const username = 'longye-tian';
            const commitsContainer = document.getElementById('github-commits');
            
            try {
                // Fetch user's recent events
                const response = await fetch(`https://api.github.com/users/${username}/events/public`);
                const events = await response.json();
                
                // Filter for push events and extract commits
                const pushEvents = events.filter(event => event.type === 'PushEvent');
                const commits = [];
                
                pushEvents.slice(0, 5).forEach(event => {
                    event.payload.commits.forEach(commit => {
                        commits.push({
                            sha: commit.sha.substring(0, 7),
                            message: commit.message.split('\n')[0], // First line only
                            repo: event.repo.name,
                            date: new Date(event.created_at)
                        });
                    });
                });
                
                // Display commits
                if (commits.length > 0) {
                    commitsContainer.innerHTML = commits.slice(0, 4).map((commit, index) => {
                        const timeAgo = getTimeAgo(commit.date);
                        const isLast = index === Math.min(commits.length - 1, 3);
                        return `
                            <div class="github-commit" style="padding: 15px 0; ${!isLast ? 'border-bottom: 1px solid #3e3e3e;' : ''} font-family: monospace; font-size: 0.95em; transition: all 0.2s ease; cursor: pointer;">
                                <span style="color: #dcdcaa; font-size: 0.9em; margin-right: 15px;">${commit.sha}</span>
                                <span style="color: #d4d4d4;">${commit.message}</span>
                                <div style="font-size: 0.8em; color: #808080; margin-top: 5px;">
                                    <a href="https://github.com/${commit.repo}" style="color: #569cd6; text-decoration: none;">${commit.repo}</a> ¬∑ ${timeAgo}
                                </div>
                            </div>
                        `;
                    }).join('');
                    
                    // Add hover effects to commits
                    setTimeout(() => {
                        document.querySelectorAll('.github-commit').forEach(commit => {
                            commit.addEventListener('mouseenter', function() {
                                this.style.backgroundColor = '#3e3e3e';
                                this.style.paddingLeft = '20px';
                                this.style.transform = 'translateX(5px)';
                            });
                            
                            commit.addEventListener('mouseleave', function() {
                                this.style.backgroundColor = 'transparent';
                                this.style.paddingLeft = '0';
                                this.style.transform = 'translateX(0)';
                            });
                        });
                    }, 100);
                } else {
                    commitsContainer.innerHTML = '<p style="color: #808080;">No recent commits found</p>';
                }
            } catch (error) {
                console.error('Error fetching commits:', error);
                commitsContainer.innerHTML = '<p style="color: #808080;">Unable to load commits</p>';
            }
        }
        
        function getTimeAgo(date) {
            const seconds = Math.floor((new Date() - date) / 1000);
            const intervals = {
                year: 31536000,
                month: 2592000,
                week: 604800,
                day: 86400,
                hour: 3600,
                minute: 60
            };
            
            for (const [unit, secondsInUnit] of Object.entries(intervals)) {
                const interval = Math.floor(seconds / secondsInUnit);
                if (interval >= 1) {
                    return `${interval} ${unit}${interval === 1 ? '' : 's'} ago`;
                }
            }
            return 'just now';
        }
        
        // Load commits when page loads
        loadGitHubCommits();
        
        // Add hover effect to GitHub link
        const githubLink = document.getElementById('github-link');
        if (githubLink) {
            githubLink.addEventListener('mouseenter', function() {
                this.style.color = '#4ec9b0';
                this.style.transform = 'translateX(-5px)';
            });
            
            githubLink.addEventListener('mouseleave', function() {
                this.style.color = '#808080';
                this.style.transform = 'translateX(0)';
            });
        }
    </script>
</body>
</html>